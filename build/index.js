!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t,n){var a=n(4),r=n(5),c=n(6),l=n(8);e.exports=function(e,t){return a(e)||r(e,t)||c(e,t)||l()}},function(e,t){!function(){e.exports=this.regeneratorRuntime}()},function(e,t){function n(e,t,n,a,r,c,l){try{var o=e[c](l),s=o.value}catch(e){return void n(e)}o.done?t(s):Promise.resolve(s).then(a,r)}e.exports=function(e){return function(){var t=this,a=arguments;return new Promise((function(r,c){var l=e.apply(t,a);function o(e){n(l,r,c,o,s,"next",e)}function s(e){n(l,r,c,o,s,"throw",e)}o(void 0)}))}}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,c=void 0;try{for(var l,o=e[Symbol.iterator]();!(a=(l=o.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,c=e}finally{try{a||null==o.return||o.return()}finally{if(r)throw c}}return n}}},function(e,t,n){var a=n(7);e.exports=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";n.r(t);var a=n(0),r=wp.blocks.registerBlockType,c=wp.blockEditor.InspectorControls,l=wp.components.TextControl;r("s4f-plugin/branch-header",{title:"S4F Branch Header",icon:"universal-access-alt",category:"layout",attributes:{branchTitle:{type:"string"},stateCode:{type:"string"}},edit:function(e){var t=e.attributes,n=t.branchTitle,r=t.stateCode,o=e.setAttributes;e.className;return Object(a.createElement)("div",null,Object(a.createElement)(c,null,Object(a.createElement)(l,{label:"Branch Name",value:n,onChange:function(e){o({branchTitle:e})}}),Object(a.createElement)(l,{label:"State Code",value:r,onChange:function(e){o({stateCode:void 0===e?"none":e})}})),Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"font-mono opacity-20"},Object(a.createElement)("a",{href:"../branches",className:"font-no-underline"},"< All Branches")),Object(a.createElement)("h1",{className:"font-mono font-l-responsive stateface-".concat(r)},n)))},save:function(e){return console.log(e),Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"font-mono opacity-20"},Object(a.createElement)("a",{href:"../branches",className:"font-no-underline"},"< All Branches")),Object(a.createElement)("h1",{className:"font-mono font-l-responsive stateface-".concat(e.attributes.stateCode)},e.attributes.branchTitle))}});var o=n(2),s=n.n(o),i=n(3),m=n.n(i),u=n(1),b=n.n(u),f=wp.blocks.registerBlockType,d=wp.blockEditor.InspectorControls,p=wp.components.TextControl,v=wp.element.useState;f("s4f-plugin/branch-info",{title:"S4F Branch Info",icon:"universal-access-alt",category:"layout",attributes:{branchName:{type:"string",default:"All"}},edit:function(e){var t=e.attributes.branchName,n=e.setAttributes,r=(e.className,v("Loading...")),c=b()(r,2),l=c[0],o=c[1],i=v("Loading..."),u=b()(i,2),f=u[0],E=u[1],j=v("Loading..."),h=b()(j,2),O=h[0],g=h[1];return fetch("https://spreadsheets.google.com/feeds/cells/1AiJWX3EvgGMYiRtnN_4aiAyNjbEKrM1Y7eq8-p-ASXw/1/public/full?alt=json").then(function(){var e=m()(s.a.mark((function e(n){var a,r,c,l,i,m,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:a=e.sent,r=a.feed.entry.map((function(e){return[e.gs$cell.$t,+e.gs$cell.col,+e.gs$cell.row]})),c=r.filter((function(e){return 1===e[2]})),l=c.find((function(e){return e[0]==t})),i=r.find((function(e){return e[1]===l[1]&&2===e[2]}))[0],m=r.find((function(e){return e[1]===l[1]&&4===e[2]}))[0],u=r.find((function(e){return e[1]===l[1]&&5===e[2]}))[0],o(d3.format(",")(i)),E(m),g(u);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log("could not find branch due to error ",e)})),Object(a.createElement)("div",null,Object(a.createElement)(d,null,Object(a.createElement)(p,{label:"Branch name",value:t,onChange:function(e){n({branchName:e})}})),Object(a.createElement)("div",{className:"grid-three-col-small grid-with-dividers mt-3 mb-3"},Object(a.createElement)("div",{className:"border-grid-child"},Object(a.createElement)("div",{className:"font-42 font-bold"},Object(a.createElement)("span",null,l)),Object(a.createElement)("div",{className:"font-mono-uppercase opacity-20"},Object(a.createElement)("span",null,"Servings Rescued"))),Object(a.createElement)("div",{className:"border-grid-child"},Object(a.createElement)("div",{className:"font-42 font-bold"},Object(a.createElement)("span",null,f)),Object(a.createElement)("div",{className:"font-mono-uppercase opacity-20"},Object(a.createElement)("span",null,"Partner Bus. and Orgs"))),Object(a.createElement)("div",{className:"border-grid-child"},Object(a.createElement)("div",{className:"font-42 font-bold"},Object(a.createElement)("span",null,O)),Object(a.createElement)("div",{className:"font-mono-uppercase opacity-20"},Object(a.createElement)("span",null,"Student Volunteers")))))},save:function(e){var t=e.attributes.branchName,n='\n        fetch("https://spreadsheets.google.com/feeds/cells/1AiJWX3EvgGMYiRtnN_4aiAyNjbEKrM1Y7eq8-p-ASXw/1/public/full?alt=json")\n                        .then(async res => {\n                        const spreadsheetData = await res.json();\n                        const spreadsheetEntries = spreadsheetData.feed.entry.map(el => [el.gs$cell.$t, +el.gs$cell.col, +el.gs$cell.row]);\n                        const allLabels = spreadsheetEntries.filter(el => el[2] === 1);\n                        const branchItem = allLabels.find(el => el[0] == "'.concat(t,'");\n\n                        const branchNumDonations = spreadsheetEntries.find(el => el[1] === branchItem[1] && el[2] === 2)[0];\n                        const branchNumPartners = spreadsheetEntries.find(el => el[1] === branchItem[1] && el[2] === 4)[0];\n                        const branchNumVolunteers = spreadsheetEntries.find(el => el[1] === branchItem[1] && el[2] === 5)[0];\n                        \n                        document.getElementById("num-donations").textContent = d3.format(",")(branchNumDonations);\n                        document.getElementById("num-partners").textContent = branchNumPartners;\n                        document.getElementById("num-volunteers").textContent = branchNumVolunteers;\n\n                    }).catch(err => console.log("could not find branch due to error ", err));\n        ');return Object(a.createElement)("div",{className:"grid-three-col-small grid-with-dividers mt-3 mb-3"},Object(a.createElement)("script",{dangerouslySetInnerHTML:{__html:n}}),Object(a.createElement)("div",{className:"border-grid-child"},Object(a.createElement)("div",{className:"font-42 font-bold"},Object(a.createElement)("span",{id:"num-donations"},"Loading...")),Object(a.createElement)("div",{className:"font-mono-uppercase opacity-20"},Object(a.createElement)("span",null,"Servings Rescued"))),Object(a.createElement)("div",{className:"border-grid-child"},Object(a.createElement)("div",{className:"font-42 font-bold"},Object(a.createElement)("span",{id:"num-partners"},"Loading...")),Object(a.createElement)("div",{className:"font-mono-uppercase opacity-20"},Object(a.createElement)("span",null,"Partner Bus. and Orgs"))),Object(a.createElement)("div",{className:"border-grid-child"},Object(a.createElement)("div",{className:"font-42 font-bold"},Object(a.createElement)("span",{id:"num-volunteers"},"Loading...")),Object(a.createElement)("div",{className:"font-mono-uppercase opacity-20"},Object(a.createElement)("span",null,"Student Volunteers"))))}});var E=wp.blocks.registerBlockType,j=wp.blockEditor,h=j.InspectorControls,O=j.MediaUpload,g=wp.components.TextControl;E("s4f-plugin/branch-person",{title:"S4F Branch Person",icon:"universal-access-alt",category:"layout",attributes:{role:{type:"string"},name:{type:"string"},email:{type:"string"},ig:{type:"string"},profileImage:{type:"string",default:null}},edit:function(e){var t=e.attributes,n=t.profileImage,r=t.role,c=t.name,l=t.email,o=t.ig,s=e.setAttributes;e.className;return Object(a.createElement)("div",null,Object(a.createElement)(h,null,Object(a.createElement)(O,{onSelect:function(e){var t,n=null!==(t=e.sizes.large)&&void 0!==t?t:e.sizes.full;s({profileImage:n.url})},type:"image",value:n,render:function(e){var t=e.open;return Object(a.createElement)("button",{onClick:t},"Upload profile picture")}}),Object(a.createElement)(g,{label:"Name",value:c,onChange:function(e){s({name:e})}}),Object(a.createElement)(g,{label:"Title",value:r,onChange:function(e){s({role:e})}}),Object(a.createElement)(g,{label:"Email",value:l,onChange:function(e){s({email:e})}}),Object(a.createElement)(g,{label:"Instagram username",value:o,onChange:function(e){s({ig:e})}})),Object(a.createElement)("div",{className:"p-3 bg-gray-1 flex"},Object(a.createElement)("div",{className:"width-120"},Object(a.createElement)("img",{src:n})),Object(a.createElement)("div",{className:"ml-3 flex-1"},Object(a.createElement)("div",{className:"font-mono-uppercase font-12-lt-600 opacity-20 mb-1"},Object(a.createElement)("span",null,r)),Object(a.createElement)("div",{className:"font-l-responsive font-bold"},Object(a.createElement)("span",null,c)),Object(a.createElement)("hr",{className:"mt-1 mb-1 opacity-20"}),Object(a.createElement)("div",{className:"font-mono font-normal font-12-lt-600"},Object(a.createElement)("span",null,Object(a.createElement)("a",{href:"mailto:".concat(l)},l))),Object(a.createElement)("div",{className:"font-mono font-normal font-12-lt-600"},Object(a.createElement)("span",null,Object(a.createElement)("a",{href:"https://www.instagram.com/".concat(o,"/")},Object(a.createElement)("i",{className:"fab fa-instagram"})," @",o))))))},save:function(e){var t=e.attributes,n=t.profileImage,r=t.role,c=t.name,l=t.email,o=t.ig;return Object(a.createElement)("div",{className:"p-3 bg-gray-1 flex"},Object(a.createElement)("div",{className:"width-120"},Object(a.createElement)("img",{src:n})),Object(a.createElement)("div",{className:"ml-3 flex-1"},Object(a.createElement)("div",{className:"font-mono-uppercase font-12-lt-600 opacity-20 mb-1"},Object(a.createElement)("span",null,r)),Object(a.createElement)("div",{className:"font-l-responsive font-bold"},Object(a.createElement)("span",null,c)),Object(a.createElement)("hr",{className:"mt-1 mb-1 opacity-20"}),Object(a.createElement)("div",{className:"font-mono font-normal font-12-lt-600"},Object(a.createElement)("span",null,Object(a.createElement)("a",{href:"mailto:".concat(l)},l))),Object(a.createElement)("div",{className:"font-mono font-normal font-12-lt-600"},Object(a.createElement)("span",null,Object(a.createElement)("a",{href:"https://www.instagram.com/".concat(o,"/")},Object(a.createElement)("i",{className:"fab fa-instagram"})," @",o)))))}});var y=wp.blocks.registerBlockType,N=wp.blockEditor.InspectorControls,w=wp.components.TextControl;y("s4f-plugin/branch-item",{title:"S4F Branch Item",icon:"universal-access-alt",category:"layout",attributes:{branchTitle:{type:"string",default:"Branch title"},stateCode:{type:"string"}},edit:function(e){var t=e.attributes,n=t.branchTitle,r=t.stateCode,c=e.setAttributes;e.className;return Object(a.createElement)("div",null,Object(a.createElement)(N,null,Object(a.createElement)(w,{label:"Branch Name",value:n,onChange:function(e){c({branchTitle:e})}}),Object(a.createElement)(w,{label:"State Code",value:r,onChange:function(e){c({stateCode:void 0===e?"none":e})}})),Object(a.createElement)(a.Fragment,null,Object(a.createElement)("a",{href:"../"+n.replace(/\s+/g,"-").toLowerCase(),className:"font-no-underline"},Object(a.createElement)("div",{className:"hover-gray-1 pt-3 pb-3"},Object(a.createElement)("h1",{className:"font-mono font-l-responsive stateface-".concat(r)},n))),Object(a.createElement)("hr",{className:"opacity-20"})))},save:function(e){var t=e.attributes,n=t.stateCode,r=t.branchTitle;return Object(a.createElement)(a.Fragment,null,Object(a.createElement)("a",{href:"../"+r.replace(/\s+/g,"-").toLowerCase(),className:"font-no-underline"},Object(a.createElement)("div",{className:"hover-gray-1 pt-3 pb-3"},Object(a.createElement)("h1",{className:"font-mono font-l-responsive stateface-".concat(n)},r))),Object(a.createElement)("hr",{className:"opacity-20"}))}})}]);